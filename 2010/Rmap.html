<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Pod::Advent 0.21 (Pod::Simple 3.13, Perl::Tidy 20090616) on 2010-12-15 00:02:46 -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>2010 Perl Advent Calendar: Data::Rmap</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../style.css" type="text/css" />
<link rel="alternate" type="text/plain" href="Rmap.pod" />
</head>
<body>
<h1><a href="index.html">Perl Advent Calendar 2010-12</a>-16</h1>
<h2 align="center">Data::Rmap</h2>
<h3 align="center">by Fayland Lam</h3>
<p>有时候你有一个很复杂的数据结构，比如我们的 <tt><a href="http://search.cpan.org/perldoc?Catalyst">Catalyst</a></tt> <tt><a href="http://search.cpan.org/perldoc?YAML">YAML</a></tt> 配置文件。有时候你会有一个很奇特的要求，比如我们的某台服务器没有私有 IP，所以需要对这个 YAML 里的所有 IP 进行转换。</p>
<p>解决的方案有很多种。下面是一个很简单实用的方案（使用 <tt><a href="http://search.cpan.org/perldoc?Data::Rmap">Data::Rmap</a></tt>）：</p>
<pre>
<span class="k">use</span> <span class="w">Data::Rmap</span><span class="sc">;</span>
<span class="i">rmap</span> <span class="s">{</span> <span class="q">s/192\.168\.1/xx\.xxx\.xxx/</span><span class="sc">;</span> <span class="q">s/192\.168\.2/xx\.xxx\.yyy/</span><span class="sc">;</span> <span class="s">}</span> <span class="i">$config</span><span class="sc">;</span>
</pre>

<p>2 行代码解决问题。这就是 CPAN 的魅力所在。</p>
<p>题外话：我觉得 advent 并不能给诸位带来多大的提高或者什么，它最大的作用在于扩展视野。如果诸位下次碰到问题，比如对某个数据结构进行迭代 map 的时候，能想起今天推荐的模块，那就是 advent 的最大成功。</p>
<p>谢谢。</p>
<div style="float: right; font-size: 10pt"><a href="Rmap.pod">View Source (POD)</a></div><br />
</body>
</html>
