<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Pod::Advent 0.18 (Pod::Simple 3.07, Perl::Tidy 20071205) on 2009-12-16 05:57:55 -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>2009 CN Perl Advent Calendar: JSON::XS</title>
<link rel="stylesheet" href="../style.css" type="text/css" />
<link rel="alternate" type="text/plain" href="JSON.pod" />
</head>
<body>
<h1><a href="index.html">CN Perl Advent Calendar 2009-12</a>-16</h1>
<h2 align="center">JSON::XS</h2>
<h3 align="center">by Alexe</h3>
<p>各种程序之间的数据传递必须要有一个统一的格式。现在最常见的格式有：xml，json。你可以把任意程序中的一个数据结构转换成JSON格式的文本存储，然后另一个程序再读取这个JSON格式的文本就可以还原该数据结构。 JSON::XS就是这样一个模块，方便你操纵JSON格式的数据，并且这个模块是XS接口的，意味着它比纯perl编写的Json模块运行的速度更快。</p>
<p>这个模块最简单与常见的用法：</p>
<pre><span class="c"> use JSON::XS;

 # exported functions, they croak on error
 # and expect/generate UTF-8

 $utf8_encoded_json_text = encode_json $perl_hash_or_arrayref;
 $perl_hash_or_arrayref  = decode_json $utf8_encoded_json_text;</span></pre>
<p>Json这种数据交换方案在Javascript这几年兴起时，在数据传递格式方面占了很大的位置。Web开发中会时时用到，其实对于很多其他类型的程序也会用到。 例如：在我编写Dns服务器端软件时，我需要把已经取得的DNS数据保存起来，当下次我再运行该DNS服务器端时，可以立即恢复这些数据。这时我就使用JSON保存并恢复数据，使用起来十分的方便。</p>
<p>一个简单的JSON数据的例子：</p>
<pre><span class="c">{"data.house.sina.com.cn":{"A":{"update_time":1253404194,"local_query":[],"value":[]},"CNAME":{"local_query":null,"value":["house.dpool.sina.com.cn"]}}}</span></pre>
<div style="float: right; font-size: 10pt"><a href="JSON.pod">View Source (POD)</a></div><br />
</body>
</html>
