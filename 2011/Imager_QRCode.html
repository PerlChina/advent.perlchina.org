<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Pod::Advent 0.24 (Pod::Simple 3.07, Perl::Tidy 20101217) on 2011-12-07 08:53:35 -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>2011 Perl Advent Calendar: Imager::QRCode</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../style.css" type="text/css" />
<link rel="alternate" type="text/plain" href="Imager_QRCode.pod" />
</head>
<body>
<h1><a href="../">Perl Advent Calendar 2011-12</a>-07</h1>
<h2 align="center">Imager::QRCode</h2>
<h3 align="center">by CGI.NET</h3>
<p><tt><a href="http://search.cpan.org/perldoc?Imager::QRCode" title="Imager::QRCode">Imager::QRCode</a></tt> 有趣的二位码生成模块。</p>
<p>随着电子商务的兴起，二维码这种东西越来越多的出现在我们的生活中,想不想给你的用户也拥有一份属于自己网站的二维码呢？那用Imager::QRCode就没错了。</p>
<p>Imager::QRCode是一套基于开源二维码生成库libqrencode的模块,这两个的作者都是日本人。</p>
<p>Imager::QRCode自带了libqrencode的源码,并且在安装的时候会自动编译,所以你不用去专门下载libqrencode而只需要使用CPAN正常安装即可。</p>
<p>需要说明的是Imager::QRCode依赖Imager模块,并且生成的图片格式也是依赖Imager模块能产生的格式。所以如果你希望生成GIF格式的文件却发现没有任何效果不妨先检查下你所装的Imager模块是否能正常生成GIF格式的文件。</p>
<p>Imager::QRCode使用的方法非常简单：</p>
<pre>
#!/usr/bin/perl -w
<span class="k">use</span> <span class="w">Imager::QRCode</span><span class="sc">;</span>
<span class="k">my</span> <span class="i">$qrcode</span> = <span class="w">Imager::QRCode</span><span class="w">-&gt;new</span><span class="s">(</span>
        <span class="w">size</span>          <span class="cm">=&gt;</span> <span class="n">2</span><span class="cm">,</span>
        <span class="w">margin</span>        <span class="cm">=&gt;</span> <span class="n">2</span><span class="cm">,</span>
        <span class="w">version</span>       <span class="cm">=&gt;</span> <span class="n">1</span><span class="cm">,</span>
        <span class="w">level</span>         <span class="cm">=&gt;</span> <span class="q">&#39;M&#39;</span><span class="cm">,</span>
        <span class="w">casesensitive</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="cm">,</span>
        <span class="w">lightcolor</span>    <span class="cm">=&gt;</span> <span class="w">Imager::Color</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">255</span><span class="cm">,</span> <span class="n">255</span><span class="cm">,</span> <span class="n">255</span><span class="s">)</span><span class="cm">,</span>
        <span class="w">darkcolor</span>     <span class="cm">=&gt;</span> <span class="w">Imager::Color</span><span class="w">-&gt;new</span><span class="s">(</span><span class="n">0</span><span class="cm">,</span> <span class="n">0</span><span class="cm">,</span> <span class="n">0</span><span class="s">)</span><span class="cm">,</span>
    <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$img</span> = <span class="i">$qrcode</span><span class="i">-&gt;plot</span><span class="s">(</span><span class="q">&quot;You infomation here!&quot;</span><span class="s">)</span><span class="sc">;</span>
       <span class="i">$img</span><span class="i">-&gt;write</span><span class="s">(</span><span class="w">file</span> <span class="cm">=&gt;</span> <span class="q">&#39;qrcode.gif&#39;</span><span class="cm">,</span> <span class="w">type</span><span class="cm">=&gt;</span><span class="q">&#39;gif&#39;</span><span class="s">)</span>  <span class="k">or</span> <span class="k">die</span>  <span class="i">$img</span><span class="i">-&gt;errstr</span><span class="sc">;</span>
</pre>

<p>有关Libqrencode的信息可以访问 <a href="http://fukuchi.org/works/qrencode/index.html.en">http://fukuchi.org/works/qrencode/index.html.en</a> 更多的使用方法请参阅 perldoc <tt><span title="Imager::QRCode">Imager::QRCode</span></tt>。</p>
<p>谢谢。</p>
<div style="float: right; font-size: 10pt"><a href="Imager_QRCode.pod">View Source (POD)</a></div><br />
</body>
</html>
